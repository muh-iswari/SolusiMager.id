/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package id.npad93.p9;

import javafx.scene.image.ImageView;
import javafx.application.Application;
import javafx.beans.Observable;
import javafx.geometry.Pos; 
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.control.TextField;
import javafx.scene.layout.HBox;
import javafx.scene.layout.VBox;
import javafx.scene.text.Text;
import javafx.stage.Stage;

public class App extends Application {

    private Stage stage;

    @Override
    public void start(Stage mainStage) {
        stage = mainStage;

        //stage
        stage.setTitle("Calculator");
        stage.setScene(getHome());
        stage.setResizable(true);
        stage.show();
    }

    private Scene getHome() {
        Text tTittel = new Text("KALKULATOR FISIKA");
        // tTittel.setFont();
        Button bottonLogin = new Button("MULAI");

        ImageView ivBanner = new javafx.scene.image.ImageView("/gambar/logo.png");
        ivBanner.setPreserveRatio(true);

        VBox sectionRight = new VBox(
            ivBanner ,tTittel, bottonLogin);
        sectionRight.setSpacing(20);
        sectionRight.setAlignment(Pos.CENTER);
        sectionRight.setId("section-right");

        bottonLogin.setOnAction(v -> {
            stage.setScene(getScene1());
        });


        // VBox rootNode = new VBox(ivBanner ,sectionRight);
        // rootNode.setSpacing(10);
        // rootNode.setAlignment(Pos.CENTER);


        Scene scene = new Scene(sectionRight, 640, 480);
        scene.getStylesheets().add(getClass().getResource("/styles/style.css").toExternalForm());

        return scene;

    }

    private Scene getScene1() {
        Text tTittelMenu = new Text("PILIH MENU");
        Button btnKal1 = new Button("Kalkulator Kecepatan");
        Button btnKal2 = new Button("Kalkulator Gaya");

        VBox sectionRight = new VBox(
            tTittelMenu, btnKal1, btnKal2);
        sectionRight.setSpacing(20);
        sectionRight.setAlignment(Pos.CENTER);
        // sectionRight.setPrefWidth(320);
        sectionRight.setId("section-right");

        btnKal1.setOnAction(v -> {
            stage.setScene(getScene2());
        });

        btnKal2.setOnAction(v -> {
            stage.setScene(getScene3());
        });

        Scene scene = new Scene(sectionRight, 640, 480);
        scene.getStylesheets().add(getClass().getResource("/styles/style.css").toExternalForm());

        return scene;

    }

    private Scene getScene2() {
        Text tTittelKal1 = new Text("Kalkulator Kecepatan");
        Label tLabelJarak = new Label("Jarak");
        TextField tfJarak = new TextField();
        tfJarak.setPromptText("meter");
        Label tLabelWaktu = new Label("Waktu");
        TextField tfWaktu = new TextField();
        tfWaktu.setPromptText("detik");
        Button bottonBack = new Button("Kembali");
        Text tTitleHasil = new Text("Hasil");

        Button btnCalculate = new Button("Calculate");
        // btnCalculate.setStyle("-fx-background-color: aqua;");
        Button btnClear = new Button("Clear");
        // btnClear.setStyle("-fx-background-color: blue;");
        Label hasil = new Label();

        btnClear.setOnAction(v -> {
            tfJarak.clear();
            tfWaktu.clear();
            hasil.setText("");});


        btnCalculate.setOnAction(v -> {
            try {
                double jarak = Double.parseDouble(tfJarak.getText());
                double waktu = Double.parseDouble(tfWaktu.getText());
                double kecepatan = jarak / waktu;
                hasil.setText("Kecepatan : " + String.format("%.2f", kecepatan) + " m/s");
            } catch (NumberFormatException e) {
                hasil.setText("Input tidak valid");
            }
        });

        HBox calclear = new HBox(5, btnClear , btnCalculate);
        calclear.setAlignment(Pos.CENTER);
        
        VBox sectionRight = new VBox(
            tTittelKal1, tLabelJarak, tfJarak,tLabelWaktu, tfWaktu, tTitleHasil, hasil, calclear,bottonBack);
        sectionRight.setSpacing(10);
        sectionRight.setAlignment(Pos.CENTER);
        sectionRight.setPrefWidth(320);
        sectionRight.setId("section-right");

        bottonBack.setOnAction(v -> {
            stage.setScene(getScene1());
        });

        ImageView ivBanner = new javafx.scene.image.ImageView("/gambar/curry2.jpg");
        ivBanner.setFitWidth(320);
        ivBanner.setPreserveRatio(true);

        Scene scene = new Scene(sectionRight, 640, 480);

        scene.getStylesheets().add(getClass().getResource("/styles/style.css").toExternalForm());

        return scene;

    }


    private Scene getScene3() {
        Text tTittelKal2 = new Text("Kalkulator Gaya");
        Label tLabelMassa = new Label("Massa");
        TextField tfMassa = new TextField();
        tfMassa.setPromptText("kilogram");
        Label tLabelPercepatan = new Label("Percepatan");
        TextField tfPercepatan = new TextField();
        tfPercepatan.setPromptText("m/s2");
        Button bottonBack = new Button("Kembali");
        Label tTitleHasil = new Label("Gaya");

        Button btnCalculate = new Button("Calculate");
        // btnCalculate.setStyle("-fx-background-color: aqua;");
        Button btnClear = new Button("Clear");
        // btnClear.setStyle("-fx-background-color: blue;");
        TextField hasil = new TextField();
        hasil.setEditable(false);

        btnClear.setOnAction(v -> {
            tfMassa.clear();
            tfPercepatan.clear();
            hasil.setText("");});

        tfMassa.textProperty().addListener((observable, oldValue, newValue) -> {
            double massa = Double.parseDouble(newValue);
            // double jarak = Double.parseDouble(newValue);
            // double gaya = Calculated.calculateGaya(massa, jarak);hfsasnckasjfbbkap   
            // hasil.setText(String.valueOf(gaya));
        });

        tfPercepatan.textProperty().addListener((observable, oldValue, newValue) -> {
            //TOOdo
        });

        // btnCalculate.setOnAction(v -> {
        //     try {
        //         double massa = Double.parseDouble(tfMassa.getText());
        //         double percepatan = Double.parseDouble(tfPercepatan.getText());
        //         double gaya = massa * percepatan;
        //         hasil.setText(String.format("%.2f", gaya) + " N");
        //     } catch (NumberFormatException e) {
        //         hasil.setText("Input tidak valid");
        //     }
        // });

        HBox calclear = new HBox(5, btnClear , btnCalculate);
        calclear.setAlignment(Pos.CENTER);
        
        VBox sectionRight = new VBox(
            tTittelKal2, tLabelMassa, tfMassa,tLabelPercepatan, tfPercepatan, tTitleHasil, hasil, calclear,bottonBack);
        sectionRight.setSpacing(10);
        sectionRight.setAlignment(Pos.CENTER);
        sectionRight.setPrefWidth(320);
        sectionRight.setId("section-right");

        bottonBack.setOnAction(v -> {
            stage.setScene(getScene1());
        });

        ImageView ivBanner = new javafx.scene.image.ImageView("/gambar/curry2.jpg");
        ivBanner.setFitWidth(320);
        ivBanner.setPreserveRatio(true);

        Scene scene = new Scene(sectionRight, 640, 480);

        scene.getStylesheets().add(getClass().getResource("/styles/style.css").toExternalForm());

        return scene;

    }

    public static void main(String[] args) {
        launch();
    }

}

class Calculated {
    public static double calculateSpeed(double jarak, double waktu) {
        return jarak / waktu;
    }
    public static double calculateGaya(double massa, double percepatan) {
        return massa * percepatan;
    }
}